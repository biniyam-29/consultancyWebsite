!function(t,e){"object"==typeof exports&&"object"==typeof module?module.exports=e():"function"==typeof define&&define.amd?define([],e):"object"==typeof exports?exports.Trackright=e():t.Trackright=e()}(self,(()=>(()=>{var t={669:(t,e,r)=>{t.exports=r(609)},448:(t,e,r)=>{"use strict";var n=r(867),o=r(26),i=r(372),a=r(327),s=r(97),u=r(109),c=r(985),f=r(874),l=r(648),h=r(644),p=r(205);t.exports=function(t){return new Promise((function(e,r){var d,v=t.data,m=t.headers,g=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(d),t.signal&&t.signal.removeEventListener("abort",d)}n.isFormData(v)&&n.isStandardBrowserEnv()&&delete m["Content-Type"];var b=new XMLHttpRequest;if(t.auth){var w=t.auth.username||"",_=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(w+":"+_)}var O=s(t.baseURL,t.url);function E(){if(b){var n="getAllResponseHeaders"in b?u(b.getAllResponseHeaders()):null,i={data:g&&"text"!==g&&"json"!==g?b.response:b.responseText,status:b.status,statusText:b.statusText,headers:n,config:t,request:b};o((function(t){e(t),y()}),(function(t){r(t),y()}),i),b=null}}if(b.open(t.method.toUpperCase(),a(O,t.params,t.paramsSerializer),!0),b.timeout=t.timeout,"onloadend"in b?b.onloadend=E:b.onreadystatechange=function(){b&&4===b.readyState&&(0!==b.status||b.responseURL&&0===b.responseURL.indexOf("file:"))&&setTimeout(E)},b.onabort=function(){b&&(r(new l("Request aborted",l.ECONNABORTED,t,b)),b=null)},b.onerror=function(){r(new l("Network Error",l.ERR_NETWORK,t,b,b)),b=null},b.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||f;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),r(new l(e,n.clarifyTimeoutError?l.ETIMEDOUT:l.ECONNABORTED,t,b)),b=null},n.isStandardBrowserEnv()){var S=(t.withCredentials||c(O))&&t.xsrfCookieName?i.read(t.xsrfCookieName):void 0;S&&(m[t.xsrfHeaderName]=S)}"setRequestHeader"in b&&n.forEach(m,(function(t,e){void 0===v&&"content-type"===e.toLowerCase()?delete m[e]:b.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(b.withCredentials=!!t.withCredentials),g&&"json"!==g&&(b.responseType=t.responseType),"function"==typeof t.onDownloadProgress&&b.addEventListener("progress",t.onDownloadProgress),"function"==typeof t.onUploadProgress&&b.upload&&b.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(d=function(t){b&&(r(!t||t&&t.type?new h:t),b.abort(),b=null)},t.cancelToken&&t.cancelToken.subscribe(d),t.signal&&(t.signal.aborted?d():t.signal.addEventListener("abort",d))),v||(v=null);var j=p(O);j&&-1===["http","https","file"].indexOf(j)?r(new l("Unsupported protocol "+j+":",l.ERR_BAD_REQUEST,t)):b.send(v)}))}},609:(t,e,r)=>{"use strict";var n=r(867),o=r(849),i=r(321),a=r(185);var s=function t(e){var r=new i(e),s=o(i.prototype.request,r);return n.extend(s,i.prototype,r),n.extend(s,r),s.create=function(r){return t(a(e,r))},s}(r(546));s.Axios=i,s.CanceledError=r(644),s.CancelToken=r(972),s.isCancel=r(502),s.VERSION=r(288).version,s.toFormData=r(675),s.AxiosError=r(648),s.Cancel=s.CanceledError,s.all=function(t){return Promise.all(t)},s.spread=r(713),s.isAxiosError=r(268),t.exports=s,t.exports.default=s},972:(t,e,r)=>{"use strict";var n=r(644);function o(t){if("function"!=typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var r=this;this.promise.then((function(t){if(r._listeners){var e,n=r._listeners.length;for(e=0;e<n;e++)r._listeners[e](t);r._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){r.subscribe(t),e=t})).then(t);return n.cancel=function(){r.unsubscribe(e)},n},t((function(t){r.reason||(r.reason=new n(t),e(r.reason))}))}o.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},o.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},o.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},o.source=function(){var t;return{token:new o((function(e){t=e})),cancel:t}},t.exports=o},644:(t,e,r)=>{"use strict";var n=r(648);function o(t){n.call(this,null==t?"canceled":t,n.ERR_CANCELED),this.name="CanceledError"}r(867).inherits(o,n,{__CANCEL__:!0}),t.exports=o},502:t=>{"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},321:(t,e,r)=>{"use strict";var n=r(867),o=r(327),i=r(782),a=r(572),s=r(185),u=r(97),c=r(875),f=c.validators;function l(t){this.defaults=t,this.interceptors={request:new i,response:new i}}l.prototype.request=function(t,e){"string"==typeof t?(e=e||{}).url=t:e=t||{},(e=s(this.defaults,e)).method?e.method=e.method.toLowerCase():this.defaults.method?e.method=this.defaults.method.toLowerCase():e.method="get";var r=e.transitional;void 0!==r&&c.assertOptions(r,{silentJSONParsing:f.transitional(f.boolean),forcedJSONParsing:f.transitional(f.boolean),clarifyTimeoutError:f.transitional(f.boolean)},!1);var n=[],o=!0;this.interceptors.request.forEach((function(t){"function"==typeof t.runWhen&&!1===t.runWhen(e)||(o=o&&t.synchronous,n.unshift(t.fulfilled,t.rejected))}));var i,u=[];if(this.interceptors.response.forEach((function(t){u.push(t.fulfilled,t.rejected)})),!o){var l=[a,void 0];for(Array.prototype.unshift.apply(l,n),l=l.concat(u),i=Promise.resolve(e);l.length;)i=i.then(l.shift(),l.shift());return i}for(var h=e;n.length;){var p=n.shift(),d=n.shift();try{h=p(h)}catch(t){d(t);break}}try{i=a(h)}catch(t){return Promise.reject(t)}for(;u.length;)i=i.then(u.shift(),u.shift());return i},l.prototype.getUri=function(t){t=s(this.defaults,t);var e=u(t.baseURL,t.url);return o(e,t.params,t.paramsSerializer)},n.forEach(["delete","get","head","options"],(function(t){l.prototype[t]=function(e,r){return this.request(s(r||{},{method:t,url:e,data:(r||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){function e(e){return function(r,n,o){return this.request(s(o||{},{method:t,headers:e?{"Content-Type":"multipart/form-data"}:{},url:r,data:n}))}}l.prototype[t]=e(),l.prototype[t+"Form"]=e(!0)})),t.exports=l},648:(t,e,r)=>{"use strict";var n=r(867);function o(t,e,r,n,o){Error.call(this),this.message=t,this.name="AxiosError",e&&(this.code=e),r&&(this.config=r),n&&(this.request=n),o&&(this.response=o)}n.inherits(o,Error,{toJSON:function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}}});var i=o.prototype,a={};["ERR_BAD_OPTION_VALUE","ERR_BAD_OPTION","ECONNABORTED","ETIMEDOUT","ERR_NETWORK","ERR_FR_TOO_MANY_REDIRECTS","ERR_DEPRECATED","ERR_BAD_RESPONSE","ERR_BAD_REQUEST","ERR_CANCELED"].forEach((function(t){a[t]={value:t}})),Object.defineProperties(o,a),Object.defineProperty(i,"isAxiosError",{value:!0}),o.from=function(t,e,r,a,s,u){var c=Object.create(i);return n.toFlatObject(t,c,(function(t){return t!==Error.prototype})),o.call(c,t.message,e,r,a,s),c.name=t.name,u&&Object.assign(c,u),c},t.exports=o},782:(t,e,r)=>{"use strict";var n=r(867);function o(){this.handlers=[]}o.prototype.use=function(t,e,r){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!r&&r.synchronous,runWhen:r?r.runWhen:null}),this.handlers.length-1},o.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},o.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=o},97:(t,e,r)=>{"use strict";var n=r(793),o=r(303);t.exports=function(t,e){return t&&!n(e)?o(t,e):e}},572:(t,e,r)=>{"use strict";var n=r(867),o=r(527),i=r(502),a=r(546),s=r(644);function u(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s}t.exports=function(t){return u(t),t.headers=t.headers||{},t.data=o.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]})),(t.adapter||a.adapter)(t).then((function(e){return u(t),e.data=o.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return i(e)||(u(t),e&&e.response&&(e.response.data=o.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},185:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){e=e||{};var r={};function o(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function i(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(t[r],e[r])}function a(t){if(!n.isUndefined(e[t]))return o(void 0,e[t])}function s(r){return n.isUndefined(e[r])?n.isUndefined(t[r])?void 0:o(void 0,t[r]):o(void 0,e[r])}function u(r){return r in e?o(t[r],e[r]):r in t?o(void 0,t[r]):void 0}var c={url:a,method:a,data:a,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,beforeRedirect:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:u};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=c[t]||i,o=e(t);n.isUndefined(o)&&e!==u||(r[t]=o)})),r}},26:(t,e,r)=>{"use strict";var n=r(648);t.exports=function(t,e,r){var o=r.config.validateStatus;r.status&&o&&!o(r.status)?e(new n("Request failed with status code "+r.status,[n.ERR_BAD_REQUEST,n.ERR_BAD_RESPONSE][Math.floor(r.status/100)-4],r.config,r.request,r)):t(r)}},527:(t,e,r)=>{"use strict";var n=r(867),o=r(546);t.exports=function(t,e,r){var i=this||o;return n.forEach(r,(function(r){t=r.call(i,t,e)})),t}},546:(t,e,r)=>{"use strict";var n=r(867),o=r(16),i=r(648),a=r(874),s=r(675),u={"Content-Type":"application/x-www-form-urlencoded"};function c(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}var f,l={transitional:a,adapter:(("undefined"!=typeof XMLHttpRequest||"undefined"!=typeof process&&"[object process]"===Object.prototype.toString.call(process))&&(f=r(448)),f),transformRequest:[function(t,e){if(o(e,"Accept"),o(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t))return t;if(n.isArrayBufferView(t))return t.buffer;if(n.isURLSearchParams(t))return c(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString();var r,i=n.isObject(t),a=e&&e["Content-Type"];if((r=n.isFileList(t))||i&&"multipart/form-data"===a){var u=this.env&&this.env.FormData;return s(r?{"files[]":t}:t,u&&new u)}return i||"application/json"===a?(c(e,"application/json"),function(t,e,r){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(t){if("SyntaxError"!==t.name)throw t}return(r||JSON.stringify)(t)}(t)):t}],transformResponse:[function(t){var e=this.transitional||l.transitional,r=e&&e.silentJSONParsing,o=e&&e.forcedJSONParsing,a=!r&&"json"===this.responseType;if(a||o&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(t){if(a){if("SyntaxError"===t.name)throw i.from(t,i.ERR_BAD_RESPONSE,this,null,this.response);throw t}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,env:{FormData:r(623)},validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){l.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){l.headers[t]=n.merge(u)})),t.exports=l},874:t=>{"use strict";t.exports={silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1}},288:t=>{t.exports={version:"0.27.2"}},849:t=>{"use strict";t.exports=function(t,e){return function(){for(var r=new Array(arguments.length),n=0;n<r.length;n++)r[n]=arguments[n];return t.apply(e,r)}}},327:(t,e,r)=>{"use strict";var n=r(867);function o(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,r){if(!e)return t;var i;if(r)i=r(e);else if(n.isURLSearchParams(e))i=e.toString();else{var a=[];n.forEach(e,(function(t,e){null!=t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),a.push(o(e)+"="+o(t))})))})),i=a.join("&")}if(i){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+i}return t}},303:t=>{"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},372:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?{write:function(t,e,r,o,i,a){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(r)&&s.push("expires="+new Date(r).toGMTString()),n.isString(o)&&s.push("path="+o),n.isString(i)&&s.push("domain="+i),!0===a&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}:{write:function(){},read:function(){return null},remove:function(){}}},793:t=>{"use strict";t.exports=function(t){return/^([a-z][a-z\d+\-.]*:)?\/\//i.test(t)}},268:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t){return n.isObject(t)&&!0===t.isAxiosError}},985:(t,e,r)=>{"use strict";var n=r(867);t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),r=document.createElement("a");function o(t){var n=t;return e&&(r.setAttribute("href",n),n=r.href),r.setAttribute("href",n),{href:r.href,protocol:r.protocol?r.protocol.replace(/:$/,""):"",host:r.host,search:r.search?r.search.replace(/^\?/,""):"",hash:r.hash?r.hash.replace(/^#/,""):"",hostname:r.hostname,port:r.port,pathname:"/"===r.pathname.charAt(0)?r.pathname:"/"+r.pathname}}return t=o(window.location.href),function(e){var r=n.isString(e)?o(e):e;return r.protocol===t.protocol&&r.host===t.host}}():function(){return!0}},16:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){n.forEach(t,(function(r,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=r,delete t[n])}))}},623:t=>{t.exports=null},109:(t,e,r)=>{"use strict";var n=r(867),o=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,r,i,a={};return t?(n.forEach(t.split("\n"),(function(t){if(i=t.indexOf(":"),e=n.trim(t.substr(0,i)).toLowerCase(),r=n.trim(t.substr(i+1)),e){if(a[e]&&o.indexOf(e)>=0)return;a[e]="set-cookie"===e?(a[e]?a[e]:[]).concat([r]):a[e]?a[e]+", "+r:r}})),a):a}},205:t=>{"use strict";t.exports=function(t){var e=/^([-+\w]{1,25})(:?\/\/|:)/.exec(t);return e&&e[1]||""}},713:t=>{"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},675:(t,e,r)=>{"use strict";var n=r(867);t.exports=function(t,e){e=e||new FormData;var r=[];function o(t){return null===t?"":n.isDate(t)?t.toISOString():n.isArrayBuffer(t)||n.isTypedArray(t)?"function"==typeof Blob?new Blob([t]):Buffer.from(t):t}return function t(i,a){if(n.isPlainObject(i)||n.isArray(i)){if(-1!==r.indexOf(i))throw Error("Circular reference detected in "+a);r.push(i),n.forEach(i,(function(r,i){if(!n.isUndefined(r)){var s,u=a?a+"."+i:i;if(r&&!a&&"object"==typeof r)if(n.endsWith(i,"{}"))r=JSON.stringify(r);else if(n.endsWith(i,"[]")&&(s=n.toArray(r)))return void s.forEach((function(t){!n.isUndefined(t)&&e.append(u,o(t))}));t(r,u)}})),r.pop()}else e.append(a,o(i))}(t),e}},875:(t,e,r)=>{"use strict";var n=r(288).version,o=r(648),i={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){i[t]=function(r){return typeof r===t||"a"+(e<1?"n ":" ")+t}}));var a={};i.transitional=function(t,e,r){function i(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(r?". "+r:"")}return function(r,n,s){if(!1===t)throw new o(i(n," has been removed"+(e?" in "+e:"")),o.ERR_DEPRECATED);return e&&!a[n]&&(a[n]=!0,console.warn(i(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(r,n,s)}},t.exports={assertOptions:function(t,e,r){if("object"!=typeof t)throw new o("options must be an object",o.ERR_BAD_OPTION_VALUE);for(var n=Object.keys(t),i=n.length;i-- >0;){var a=n[i],s=e[a];if(s){var u=t[a],c=void 0===u||s(u,a,t);if(!0!==c)throw new o("option "+a+" must be "+c,o.ERR_BAD_OPTION_VALUE)}else if(!0!==r)throw new o("Unknown option "+a,o.ERR_BAD_OPTION)}},validators:i}},867:(t,e,r)=>{"use strict";var n,o=r(849),i=Object.prototype.toString,a=(n=Object.create(null),function(t){var e=i.call(t);return n[e]||(n[e]=e.slice(8,-1).toLowerCase())});function s(t){return t=t.toLowerCase(),function(e){return a(e)===t}}function u(t){return Array.isArray(t)}function c(t){return void 0===t}var f=s("ArrayBuffer");function l(t){return null!==t&&"object"==typeof t}function h(t){if("object"!==a(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}var p=s("Date"),d=s("File"),v=s("Blob"),m=s("FileList");function g(t){return"[object Function]"===i.call(t)}var y=s("URLSearchParams");function b(t,e){if(null!=t)if("object"!=typeof t&&(t=[t]),u(t))for(var r=0,n=t.length;r<n;r++)e.call(null,t[r],r,t);else for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&e.call(null,t[o],o,t)}var w,_=(w="undefined"!=typeof Uint8Array&&Object.getPrototypeOf(Uint8Array),function(t){return w&&t instanceof w});t.exports={isArray:u,isArrayBuffer:f,isBuffer:function(t){return null!==t&&!c(t)&&null!==t.constructor&&!c(t.constructor)&&"function"==typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)},isFormData:function(t){var e="[object FormData]";return t&&("function"==typeof FormData&&t instanceof FormData||i.call(t)===e||g(t.toString)&&t.toString()===e)},isArrayBufferView:function(t){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&f(t.buffer)},isString:function(t){return"string"==typeof t},isNumber:function(t){return"number"==typeof t},isObject:l,isPlainObject:h,isUndefined:c,isDate:p,isFile:d,isBlob:v,isFunction:g,isStream:function(t){return l(t)&&g(t.pipe)},isURLSearchParams:y,isStandardBrowserEnv:function(){return("undefined"==typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!=typeof window&&"undefined"!=typeof document)},forEach:b,merge:function t(){var e={};function r(r,n){h(e[n])&&h(r)?e[n]=t(e[n],r):h(r)?e[n]=t({},r):u(r)?e[n]=r.slice():e[n]=r}for(var n=0,o=arguments.length;n<o;n++)b(arguments[n],r);return e},extend:function(t,e,r){return b(e,(function(e,n){t[n]=r&&"function"==typeof e?o(e,r):e})),t},trim:function(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")},stripBOM:function(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t},inherits:function(t,e,r,n){t.prototype=Object.create(e.prototype,n),t.prototype.constructor=t,r&&Object.assign(t.prototype,r)},toFlatObject:function(t,e,r){var n,o,i,a={};e=e||{};do{for(o=(n=Object.getOwnPropertyNames(t)).length;o-- >0;)a[i=n[o]]||(e[i]=t[i],a[i]=!0);t=Object.getPrototypeOf(t)}while(t&&(!r||r(t,e))&&t!==Object.prototype);return e},kindOf:a,kindOfTest:s,endsWith:function(t,e,r){t=String(t),(void 0===r||r>t.length)&&(r=t.length),r-=e.length;var n=t.indexOf(e,r);return-1!==n&&n===r},toArray:function(t){if(!t)return null;var e=t.length;if(c(e))return null;for(var r=new Array(e);e-- >0;)r[e]=t[e];return r},isTypedArray:_,isFileList:m}},378:(t,e,r)=>{t=r.nmd(t);var n="__lodash_hash_undefined__",o=9007199254740991,i="[object Arguments]",a="[object Function]",s="[object Object]",u=/^\[object .+?Constructor\]$/,c=/^(?:0|[1-9]\d*)$/,f={};f["[object Float32Array]"]=f["[object Float64Array]"]=f["[object Int8Array]"]=f["[object Int16Array]"]=f["[object Int32Array]"]=f["[object Uint8Array]"]=f["[object Uint8ClampedArray]"]=f["[object Uint16Array]"]=f["[object Uint32Array]"]=!0,f[i]=f["[object Array]"]=f["[object ArrayBuffer]"]=f["[object Boolean]"]=f["[object DataView]"]=f["[object Date]"]=f["[object Error]"]=f[a]=f["[object Map]"]=f["[object Number]"]=f[s]=f["[object RegExp]"]=f["[object Set]"]=f["[object String]"]=f["[object WeakMap]"]=!1;var l="object"==typeof r.g&&r.g&&r.g.Object===Object&&r.g,h="object"==typeof self&&self&&self.Object===Object&&self,p=l||h||Function("return this")(),d=e&&!e.nodeType&&e,v=d&&t&&!t.nodeType&&t,m=v&&v.exports===d,g=m&&l.process,y=function(){try{var t=v&&v.require&&v.require("util").types;return t||g&&g.binding&&g.binding("util")}catch(t){}}(),b=y&&y.isTypedArray;function w(t,e,r){switch(r.length){case 0:return t.call(e);case 1:return t.call(e,r[0]);case 2:return t.call(e,r[0],r[1]);case 3:return t.call(e,r[0],r[1],r[2])}return t.apply(e,r)}var _,O,E,S=Array.prototype,j=Function.prototype,x=Object.prototype,A=p["__core-js_shared__"],k=j.toString,R=x.hasOwnProperty,N=(_=/[^.]+$/.exec(A&&A.keys&&A.keys.IE_PROTO||""))?"Symbol(src)_1."+_:"",T=x.toString,P=k.call(Object),C=RegExp("^"+k.call(R).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),U=m?p.Buffer:void 0,D=p.Symbol,L=p.Uint8Array,I=U?U.allocUnsafe:void 0,B=(O=Object.getPrototypeOf,E=Object,function(t){return O(E(t))}),F=Object.create,q=x.propertyIsEnumerable,z=S.splice,M=D?D.toStringTag:void 0,J=function(){try{var t=vt(Object,"defineProperty");return t({},"",{}),t}catch(t){}}(),H=U?U.isBuffer:void 0,V=Math.max,W=Date.now,K=vt(p,"Map"),$=vt(Object,"create"),X=function(){function t(){}return function(e){if(!At(e))return{};if(F)return F(e);t.prototype=e;var r=new t;return t.prototype=void 0,r}}();function G(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Q(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Y(t){var e=-1,r=null==t?0:t.length;for(this.clear();++e<r;){var n=t[e];this.set(n[0],n[1])}}function Z(t){var e=this.__data__=new Q(t);this.size=e.size}function tt(t,e){var r=Ot(t),n=!r&&_t(t),o=!r&&!n&&St(t),i=!r&&!n&&!o&&Rt(t),a=r||n||o||i,s=a?function(t,e){for(var r=-1,n=Array(t);++r<t;)n[r]=e(r);return n}(t.length,String):[],u=s.length;for(var c in t)!e&&!R.call(t,c)||a&&("length"==c||o&&("offset"==c||"parent"==c)||i&&("buffer"==c||"byteLength"==c||"byteOffset"==c)||mt(c,u))||s.push(c);return s}function et(t,e,r){(void 0!==r&&!wt(t[e],r)||void 0===r&&!(e in t))&&ot(t,e,r)}function rt(t,e,r){var n=t[e];R.call(t,e)&&wt(n,r)&&(void 0!==r||e in t)||ot(t,e,r)}function nt(t,e){for(var r=t.length;r--;)if(wt(t[r][0],e))return r;return-1}function ot(t,e,r){"__proto__"==e&&J?J(t,e,{configurable:!0,enumerable:!0,value:r,writable:!0}):t[e]=r}G.prototype.clear=function(){this.__data__=$?$(null):{},this.size=0},G.prototype.delete=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e},G.prototype.get=function(t){var e=this.__data__;if($){var r=e[t];return r===n?void 0:r}return R.call(e,t)?e[t]:void 0},G.prototype.has=function(t){var e=this.__data__;return $?void 0!==e[t]:R.call(e,t)},G.prototype.set=function(t,e){var r=this.__data__;return this.size+=this.has(t)?0:1,r[t]=$&&void 0===e?n:e,this},Q.prototype.clear=function(){this.__data__=[],this.size=0},Q.prototype.delete=function(t){var e=this.__data__,r=nt(e,t);return!(r<0)&&(r==e.length-1?e.pop():z.call(e,r,1),--this.size,!0)},Q.prototype.get=function(t){var e=this.__data__,r=nt(e,t);return r<0?void 0:e[r][1]},Q.prototype.has=function(t){return nt(this.__data__,t)>-1},Q.prototype.set=function(t,e){var r=this.__data__,n=nt(r,t);return n<0?(++this.size,r.push([t,e])):r[n][1]=e,this},Y.prototype.clear=function(){this.size=0,this.__data__={hash:new G,map:new(K||Q),string:new G}},Y.prototype.delete=function(t){var e=dt(this,t).delete(t);return this.size-=e?1:0,e},Y.prototype.get=function(t){return dt(this,t).get(t)},Y.prototype.has=function(t){return dt(this,t).has(t)},Y.prototype.set=function(t,e){var r=dt(this,t),n=r.size;return r.set(t,e),this.size+=r.size==n?0:1,this},Z.prototype.clear=function(){this.__data__=new Q,this.size=0},Z.prototype.delete=function(t){var e=this.__data__,r=e.delete(t);return this.size=e.size,r},Z.prototype.get=function(t){return this.__data__.get(t)},Z.prototype.has=function(t){return this.__data__.has(t)},Z.prototype.set=function(t,e){var r=this.__data__;if(r instanceof Q){var n=r.__data__;if(!K||n.length<199)return n.push([t,e]),this.size=++r.size,this;r=this.__data__=new Y(n)}return r.set(t,e),this.size=r.size,this};var it,at=function(t,e,r){for(var n=-1,o=Object(t),i=r(t),a=i.length;a--;){var s=i[it?a:++n];if(!1===e(o[s],s,o))break}return t};function st(t){return null==t?void 0===t?"[object Undefined]":"[object Null]":M&&M in Object(t)?function(t){var e=R.call(t,M),r=t[M];try{t[M]=void 0;var n=!0}catch(t){}var o=T.call(t);n&&(e?t[M]=r:delete t[M]);return o}(t):function(t){return T.call(t)}(t)}function ut(t){return kt(t)&&st(t)==i}function ct(t){return!(!At(t)||function(t){return!!N&&N in t}(t))&&(jt(t)?C:u).test(function(t){if(null!=t){try{return k.call(t)}catch(t){}try{return t+""}catch(t){}}return""}(t))}function ft(t){if(!At(t))return function(t){var e=[];if(null!=t)for(var r in Object(t))e.push(r);return e}(t);var e=gt(t),r=[];for(var n in t)("constructor"!=n||!e&&R.call(t,n))&&r.push(n);return r}function lt(t,e,r,n,o){t!==e&&at(e,(function(i,a){if(o||(o=new Z),At(i))!function(t,e,r,n,o,i,a){var u=yt(t,r),c=yt(e,r),f=a.get(c);if(f)return void et(t,r,f);var l=i?i(u,c,r+"",t,e,a):void 0,h=void 0===l;if(h){var p=Ot(c),d=!p&&St(c),v=!p&&!d&&Rt(c);l=c,p||d||v?Ot(u)?l=u:kt(w=u)&&Et(w)?l=function(t,e){var r=-1,n=t.length;e||(e=Array(n));for(;++r<n;)e[r]=t[r];return e}(u):d?(h=!1,l=function(t,e){if(e)return t.slice();var r=t.length,n=I?I(r):new t.constructor(r);return t.copy(n),n}(c,!0)):v?(h=!1,m=c,g=!0?(y=m.buffer,b=new y.constructor(y.byteLength),new L(b).set(new L(y)),b):m.buffer,l=new m.constructor(g,m.byteOffset,m.length)):l=[]:function(t){if(!kt(t)||st(t)!=s)return!1;var e=B(t);if(null===e)return!0;var r=R.call(e,"constructor")&&e.constructor;return"function"==typeof r&&r instanceof r&&k.call(r)==P}(c)||_t(c)?(l=u,_t(u)?l=function(t){return function(t,e,r,n){var o=!r;r||(r={});var i=-1,a=e.length;for(;++i<a;){var s=e[i],u=n?n(r[s],t[s],s,r,t):void 0;void 0===u&&(u=t[s]),o?ot(r,s,u):rt(r,s,u)}return r}(t,Nt(t))}(u):At(u)&&!jt(u)||(l=function(t){return"function"!=typeof t.constructor||gt(t)?{}:X(B(t))}(c))):h=!1}var m,g,y,b;var w;h&&(a.set(c,l),o(l,c,n,i,a),a.delete(c));et(t,r,l)}(t,e,a,r,lt,n,o);else{var u=n?n(yt(t,a),i,a+"",t,e,o):void 0;void 0===u&&(u=i),et(t,a,u)}}),Nt)}function ht(t,e){return bt(function(t,e,r){return e=V(void 0===e?t.length-1:e,0),function(){for(var n=arguments,o=-1,i=V(n.length-e,0),a=Array(i);++o<i;)a[o]=n[e+o];o=-1;for(var s=Array(e+1);++o<e;)s[o]=n[o];return s[e]=r(a),w(t,this,s)}}(t,e,Ct),t+"")}var pt=J?function(t,e){return J(t,"toString",{configurable:!0,enumerable:!1,value:(r=e,function(){return r}),writable:!0});var r}:Ct;function dt(t,e){var r,n,o=t.__data__;return("string"==(n=typeof(r=e))||"number"==n||"symbol"==n||"boolean"==n?"__proto__"!==r:null===r)?o["string"==typeof e?"string":"hash"]:o.map}function vt(t,e){var r=function(t,e){return null==t?void 0:t[e]}(t,e);return ct(r)?r:void 0}function mt(t,e){var r=typeof t;return!!(e=null==e?o:e)&&("number"==r||"symbol"!=r&&c.test(t))&&t>-1&&t%1==0&&t<e}function gt(t){var e=t&&t.constructor;return t===("function"==typeof e&&e.prototype||x)}function yt(t,e){if(("constructor"!==e||"function"!=typeof t[e])&&"__proto__"!=e)return t[e]}var bt=function(t){var e=0,r=0;return function(){var n=W(),o=16-(n-r);if(r=n,o>0){if(++e>=800)return arguments[0]}else e=0;return t.apply(void 0,arguments)}}(pt);function wt(t,e){return t===e||t!=t&&e!=e}var _t=ut(function(){return arguments}())?ut:function(t){return kt(t)&&R.call(t,"callee")&&!q.call(t,"callee")},Ot=Array.isArray;function Et(t){return null!=t&&xt(t.length)&&!jt(t)}var St=H||function(){return!1};function jt(t){if(!At(t))return!1;var e=st(t);return e==a||"[object GeneratorFunction]"==e||"[object AsyncFunction]"==e||"[object Proxy]"==e}function xt(t){return"number"==typeof t&&t>-1&&t%1==0&&t<=o}function At(t){var e=typeof t;return null!=t&&("object"==e||"function"==e)}function kt(t){return null!=t&&"object"==typeof t}var Rt=b?function(t){return function(e){return t(e)}}(b):function(t){return kt(t)&&xt(t.length)&&!!f[st(t)]};function Nt(t){return Et(t)?tt(t,!0):ft(t)}var Tt,Pt=(Tt=function(t,e,r){lt(t,e,r)},ht((function(t,e){var r=-1,n=e.length,o=n>1?e[n-1]:void 0,i=n>2?e[2]:void 0;for(o=Tt.length>3&&"function"==typeof o?(n--,o):void 0,i&&function(t,e,r){if(!At(r))return!1;var n=typeof e;return!!("number"==n?Et(r)&&mt(e,r.length):"string"==n&&e in r)&&wt(r[e],t)}(e[0],e[1],i)&&(o=n<3?void 0:o,n=1),t=Object(t);++r<n;){var a=e[r];a&&Tt(t,a,r,o)}return t})));function Ct(t){return t}t.exports=Pt}},e={};function r(n){var o=e[n];if(void 0!==o)return o.exports;var i=e[n]={id:n,loaded:!1,exports:{}};return t[n](i,i.exports,r),i.loaded=!0,i.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.g=function(){if("object"==typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"==typeof window)return window}}(),r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},r.nmd=t=>(t.paths=[],t.children||(t.children=[]),t);var n={};return(()=>{"use strict";r.r(n),r.d(n,{init:()=>F});const t=function(){function t(){}return t.genGuid=function(){var t=function(){return Math.floor(65536*(1+Math.random())).toString(16).substring(1)};return t()+t()+"-"+t()+"-"+t()+"-"+t()+"-"+t()+t()+t()},t.exists=function(t,e){for(var r=0;r<t.length;r++)if(e(t[r]))return!0;return!1},t.contains=function(t,e){return this.exists(t,(function(t){return t===e}))},t.copyFields=function(t,e){void 0===e&&(e={});var r,n,o=function(t,e){return function(){return e.apply(t,arguments)}};for(r in e=e||{},t)/layerX|Y/.test(r)||(n=t[r],e[r]="function"==typeof n?o(t,n):n);return e},t.undup=function(t,e){void 0===e&&(e=250);var r=0;return function(){var n=(new Date).getTime(),o=n-r;return o>e?(r=n,t.apply(this,arguments)):void 0}},t.toObject=function(t){var e,r={};for(e in t)r[e]=t[e];return r},t.equals=function(t,e){var r=function(t,e){for(var r in t)if((!t.hasOwnProperty||t.hasOwnProperty(r))&&!this.equals(t[r],e[r]))return!1;return!0};if(t instanceof Array){if(e instanceof Array){if(t.length!==e.length)return!1;for(var n=0;n<t.length;n++)if(!this.equals(t[n],e[n]))return!1;return!0}return!1}return t instanceof Object?e instanceof Object&&(r(t,e)&&r(e,t)):t===e},t}();const e=function(){var e,r;this.userId=JSON.parse(localStorage.getItem("trackright_uid")||"null"),this.userProfile=JSON.parse(localStorage.getItem("trackright_uprofile")||"null"),this.sessionId=(e=sessionStorage.getItem("trackright_sid")||t.genGuid(),sessionStorage.setItem("trackright_sid",e),e),this.visitorId=(r=localStorage.getItem("trackright_vid")||t.genGuid(),localStorage.setItem("trackright_vid",r),r)};const o=function(){function t(){this.handlers=[],this.onerror=console&&console.log||window.onerror||function(t){}}return t.prototype.push=function(t){this.handlers.push(t)},t.prototype.dispatch=function(){for(var t,e=[],r=0;r<arguments.length;r++)e[r]=arguments[r];for(t=0;t<this.handlers.length;t++)try{this.handlers[t].apply(null,e)}catch(t){this.onerror(t)}},t}();const i=function(){function e(){}return e.prototype.onready=function(t){null!=document.body?t():setTimeout((function(){this.onready(t)}),10)},e.prototype.onevent=function(e,r,n,o){var i=function(e){return function(r){var n;return r||(r=window.event),(r=t.copyFields(r)).target=r.target||r.srcElement,r.keyCode=r.keyCode||r.which||r.charCode,r.which=r.which||r.keyCode,r.charCode="number"==typeof r.which?r.which:r.keyCode,r.timeStamp=r.timeStamp||(new Date).getTime(),r.target&&3==r.target.nodeType&&(r.target=r.target.parentNode),r.preventDefault||(r.preventDefault=function(){n=!1}),e(r)||n}}(o);e.addEventListener?e.addEventListener(r,i,n):e.attachEvent&&e.attachEvent("on"+r,i)},e.prototype.onsubmit=function(e){var r=this,n=new o;n.push(e);var i=t.undup((function(t){n.dispatch(t)}));this.onready((function(){r.onevent(document.body,"submit",!0,(function(t){i(t)})),r.onevent(document.body,"keypress",!1,(function(t){if(13==t.keyCode){var e=t.target.form;e&&(t.form=e,i(t))}})),r.onevent(document.body,"click",!1,(function(t){var e=t.target,r=(e.type||"").toLowerCase(),n=e.parentElement&&e.parentElement.type&&e.parentElement.type instanceof String?(e.parentElement.type||"").toLowerCase():null,o=e.form&&("submit"===r||"button"===r),a="A"===e.tagName&&"button"===e.role,s=e.parentElement.form&&("submit"===n||"button"===r)||"button"===e.parentElement.role;(o||s||a)&&(t.form=e.closest("form"),i(t))}))}))},e.prototype.monitorElements=function(t,e,r){void 0===r&&(r=50);var n=function(){for(var o=document.getElementsByTagName(t),i=0;i<o.length;i++){var a=o[i];if(!a.getAttribute("trackright_scanned")){a.setAttribute("trackright_scanned","true");try{e(a)}catch(t){console.log(t),window.onerror(t)}}}setTimeout(n,r)};setTimeout(n,0)},e}();var a=[{string:navigator.userAgent,subString:"Chrome",identity:"Chrome"},{string:navigator.userAgent,subString:"OmniWeb",versionSearch:"OmniWeb/",identity:"OmniWeb"},{string:navigator.vendor,subString:"Apple",identity:"Safari",versionSearch:"Version"},{prop:window.opera,identity:"Opera",versionSearch:"Version"},{string:navigator.vendor,subString:"iCab",identity:"iCab"},{string:navigator.vendor,subString:"KDE",identity:"Konqueror"},{string:navigator.userAgent,subString:"Firefox",identity:"Firefox"},{string:navigator.vendor,subString:"Camino",identity:"Camino"},{string:navigator.userAgent,subString:"Netscape",identity:"Netscape"},{string:navigator.userAgent,subString:"MSIE",identity:"Explorer",versionSearch:"MSIE"},{string:navigator.userAgent,subString:"Gecko",identity:"Mozilla",versionSearch:"rv"},{string:navigator.userAgent,subString:"Mozilla",identity:"Netscape",versionSearch:"Mozilla"}],s=[{string:navigator.platform,subString:"Win",identity:"Windows"},{string:navigator.platform,subString:"Mac",identity:"Mac"},{string:navigator.userAgent,subString:"iPod",identity:"iPod"},{string:navigator.userAgent,subString:"iPad",identity:"iPad"},{string:navigator.userAgent,subString:"iPhone",identity:"iPhone"},{string:navigator.platform,subString:"Linux",identity:"Linux"}];const u=function(){function t(){this.browser=this.searchString(a)||"An unknown browser",this.version=this.searchVersion(navigator.userAgent)||this.searchVersion(navigator.appVersion)||"an unknown version",this.OS=this.searchString(s)||"an unknown OS"}return t.prototype.searchString=function(t){for(var e=0;e<t.length;e++){var r=t[e].string,n=t[e].prop;if(this.versionSearchString=t[e].versionSearch||t[e].identity,r){if(-1!=r.indexOf(t[e].subString))return t[e].identity}else if(n)return t[e].identity}},t.prototype.searchVersion=function(t){var e=t.indexOf(this.versionSearchString);if(-1!=e)return parseFloat(t.substring(e+this.versionSearchString.length+1))},t}();function c(t){var e=document.cookie.split("; ").find((function(e){return e.startsWith(t+"=")}));return e?e.split("=")[1]:null}function f(t,e,r,n){var o=new Date;o.setTime(o.getTime()+24*n*60*60*1e3),document.cookie="".concat(t,"=").concat(e,";domain=").concat(r,";path=/;expires=").concat(o.toUTCString())}const l=function(){function e(){}return e.parseQueryString=function(t){var e={};if(t.length>0){var r="?"===t.charAt(0)?t.substring(1):t;if(r.length>0)for(var n=r.split("&"),o=0;o<n.length;o++)if(n[o].length>0){var i=n[o].split("=");try{var a=decodeURIComponent(i[0]),s=i.length>1?decodeURIComponent(i[1]):"true";e[a]=s}catch(t){}}}return e},e.parseUrl=function(t){var e=document.createElement("a");return""===e.host&&(e.href=t),{hash:e.hash,host:e.host,href:e.href,hostname:e.hostname,pathname:e.pathname,protocol:e.protocol,query:this.parseQueryString(e.search)}},e.isSamePage=function(e,r){return e="string"==typeof e?this.parseUrl(e):e,r="string"==typeof r?this.parseUrl(r):r,e.protocol===r.protocol&&e.host===r.host&&e.pathname===r.pathname&&t.equals(e.query,r.query)},e.unparseQueryString=function(t){var e,r,n=[];for(e in t)t.hasOwnProperty&&!t.hasOwnProperty(e)||(r=t[e],n.push(encodeURIComponent(e)+"="+encodeURIComponent(r)));var o=n.join("&");return o.length>0?"?"+o:""},e.unparseUrl=function(t){return(t.protocol||"")+"//"+(t.host||"")+(t.pathname||"")+this.unparseQueryString(t.query)+(t.hash||"")},e.getDomainWithoutSubdomain=function(t){var e=new URL(t).hostname.split(".");return e.slice(0).slice(-(4===e.length?3:2)).join(".")},e}();const h=function(){function t(){this.title=document.title,this.referrer=this.getReferrer(),this.landingPage=this.getLandingPage(),this.url=this.getUrlData()}return t.prototype.getLandingPage=function(){var t=c("trackright_landing_page");return t?l.parseUrl(t):(f("trackright_landing_page",window.location.href,l.getDomainWithoutSubdomain(window.location.origin),1),l.parseUrl(window.location.href))},t.prototype.getReferrer=function(){var t=c("trackright_referrer");return t||(t=document.referrer||null)&&f("trackright_referrer",t,l.getDomainWithoutSubdomain(window.location.origin),30),l.parseUrl(t)},t.prototype.getUrlData=function(){var t=document.location;return{hash:t.hash,host:t.host,href:t.href,hostname:t.hostname,pathname:t.pathname,protocol:t.protocol,query:l.parseQueryString(t.search)}},t}();const p=function(){this.height=screen.height,this.width=screen.width,this.colorDepth=screen.colorDepth};const d=function(){var t,e,r=new RegExp("([A-Z]+-[0-9]+) \\(([A-Z]+)\\)").exec((new Date).toString());r&&r.length>=3&&(t=r[1],e=r[2]),this.language=navigator.systemLanguage||navigator.userLanguage||navigator.language,this.timezoneOffset=(new Date).getTimezoneOffset(),this.gmtOffset=t,this.timezone=e};const v=function(){};const m=function(){function t(){}return t.size=function(t){if(void 0===t)return 0;if(t instanceof Array)return t.length;if(t instanceof Object){var e=0;for(var r in t)t.hasOwnProperty&&!t.hasOwnProperty(r)||++e;return e}return 1},t.mapJson=function(t,e){var r,n;if(t instanceof Array){r=[];for(var o=0;o<t.length;o++)n=this.mapJson(t[o],e),this.size(n)>0&&r.push(n);return r}if(t instanceof Object){for(var i in r={},t)n=this.mapJson(t[i],e),this.size(n)>0&&(r[i]=n);return r}return e(t)},t.jsonify=function(t){return this.mapJson(t,(function(t){if(""!==t){var e;try{e=JSON.parse(t)}catch(r){e=t}return e}}))},t}();var g=r(378);const y=function(){function e(t){this.key="trackright_outbox",this.trackerInstance=t,this.outbox=[]}return e.prototype.append=function(t){this.outbox.push(t),this.save()},e.prototype.save=function(){localStorage.setItem(this.key,JSON.stringify(this.outbox))},e.prototype.load=function(){return this.outbox=JSON.parse(localStorage.getItem(this.key)||"[]"),this.outbox},e.prototype.sendPendingEvents=function(){this.load(),this.sendOutbox()},e.prototype.sendOutbox=function(){for(var e=0;e<this.outbox.length;e++){var r=this.outbox[e],n=r.value.event;if(t.contains(["redirect","formSubmit"],n)&&(r.value.target=m.jsonify(g(r.value.target||{},{url:l.parseUrl(document.location.href)}))),"redirect"===n)try{l.unparseUrl(r.value.source.url)===l.unparseUrl(r.value.target.url)&&(r.value.event="reload")}catch(t){window.onerror&&window.onerror(t)}try{this.trackerInstance.tracker(r)}catch(t){window.onerror&&window.onerror(t)}}this.outbox=[],this.save()},e}();function b(t,e){(null==e||e>t.length)&&(e=t.length);for(var r=0,n=new Array(e);r<e;r++)n[r]=t[r];return n}function w(t){return function(t){if(Array.isArray(t))return b(t)}(t)||function(t){if("undefined"!=typeof Symbol&&null!=t[Symbol.iterator]||null!=t["@@iterator"])return Array.from(t)}(t)||function(t,e){if(t){if("string"==typeof t)return b(t,e);var r=Object.prototype.toString.call(t).slice(8,-1);return"Object"===r&&t.constructor&&(r=t.constructor.name),"Map"===r||"Set"===r?Array.from(t):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?b(t,e):void 0}}(t)||function(){throw new TypeError("Invalid attempt to spread non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}()}function _(t){return w(t.elements).filter((function(t){return t.name})).map((function(t){return{name:t.name,type:t.type,required:t.required}}))}var O=r(378);const E=function(){function e(){}return e.simulateMouseEvent=function(t,e,r){void 0===r&&(r=null);var n={HTMLEvents:/^(?:load|unload|abort|error|select|change|submit|reset|focus|blur|resize|scroll)$/,MouseEvents:/^(?:click|dblclick|mouse(?:down|up|over|move|out))$/};r=O({clientX:0,clientY:0,pointerX:0,pointerY:0,button:0,ctrlKey:!1,altKey:!1,shiftKey:!1,metaKey:!1,bubbles:!0,cancelable:!0},r||{});var o,i=null;for(var a in n)if(Object.prototype.hasOwnProperty.call(n,a)&&n[a].test(e)){i=a;break}if(!i)throw new SyntaxError("Only HTMLEvents and MouseEvents interfaces are supported");if(document.createEvent)o=document.createEvent(i),"HTMLEvents"===i?o.initEvent(e,r.bubbles,r.cancelable):o.initMouseEvent(e,r.bubbles,r.cancelable,document.defaultView,r.button,r.pointerX,r.pointerY,r.pointerX,r.pointerY,r.ctrlKey,r.altKey,r.shiftKey,r.metaKey,r.button,t),t.dispatchEvent(o);else{r.clientX=r.pointerX,r.clientY=r.pointerY;var s=document.createEventObject();o=O(s,r);try{t.fireEvent("on"+e,o)}catch(r){t.fireEvent("on"+e)}}return t},e.genCssSelector=function(t){for(var e="";t!=document.body;){var r=t.id,n="string"==typeof t.className?t.className.trim().split(/\s+/).join("."):"";r&&""!==r&&(r="#"+r),""!==n&&(n="."+n);for(var o=t.nodeName.toLowerCase()+r+n,i=t.parentNode,a=1,s=0;s<i.childNodes.length&&i.childNodes[s]!==t;s++){void 0!==i.childNodes[s].tagName&&(a+=1)}""!==e&&(e=">"+e),e=o+":nth-child("+a+")"+e,t=i}return e},e.getDataset=function(e){if(void 0!==e.dataset)return t.toObject(e.dataset);if(e.attributes){for(var r={},n=e.attributes,o=0;o<n.length;o++){var i=n[o].name,a=n[o].value;0===i.indexOf("data-")&&(r[i=i.substr("data-".length)]=a)}return r}return{}},e.getNodeDescriptor=function(t){return{id:t.id,selector:this.genCssSelector(t),title:""===t.title?void 0:t.title,data:this.getDataset(t)}},e}();const S=function(){};var j,x=(j=function(t,e){return j=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r])},j(t,e)},function(t,e){if("function"!=typeof e&&null!==e)throw new TypeError("Class extends value "+String(e)+" is not a constructor or null");function r(){this.constructor=t}j(t,e),t.prototype=null===e?Object.create(e):(r.prototype=e.prototype,new r)}),A=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},k=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},R=r(669).default;const N=function(t){function e(e){var r=t.call(this)||this;return r.config=e,r.api=R.create({baseURL:"".concat("https://api.trackright.com","/api/tracker/").concat(e.domain),headers:{"X-Tenant":e.token}}),r}return x(e,t),e.prototype.tracker=function(t){return A(this,void 0,void 0,(function(){var e;return k(this,(function(r){switch(r.label){case 0:return t.path,e=t.value,[4,this.api.post("/events",e)];case 1:return[2,r.sent().data]}}))}))},e}(S);function T(t){if(!t.nodeName)return"";for(var e=[];null!=t.parentNode;){for(var r=0,n=0,o=0;o<t.parentNode.childNodes.length;o++){var i=t.parentNode.childNodes[o];i.nodeName==t.nodeName&&(i===t&&(n=r),r++)}t.hasAttribute("id")&&""!=t.id?e.unshift(t.nodeName.toLowerCase()+"#"+t.id):r>1?e.unshift(t.nodeName.toLowerCase()+":eq("+n+")"):e.unshift(t.nodeName.toLowerCase()),t=t.parentNode}return e.slice(1).join(" > ")}function P(t){if(!t.nodeName)return"";var e=[];if(t.hasAttribute("id")&&""!=t.id&&e.push("#"+t.id),t.hasAttribute("class")&&""!=t.className&&e.push("."+t.className),"FORM"===t.nodeName){var r=t.querySelector('[type="submit"]');null!==r&&""!==r.className&&e.push("."+r.className)}return e.join(",")}const C=function(){function e(e,r){void 0===r&&(r=null),this.node=e,this.formId=r||e.getAttribute("trackright-form-id")||t.genGuid(),this.identifier=this.createIdentifier()}return e.prototype.elementHasAttribute=function(t,e){return t.hasAttribute(e)&&""!=t.getAttribute(e)},e.prototype.hasFilledAttribute=function(t){return this.elementHasAttribute(this.node,t)},e.prototype.uuid=function(){return this.formId},e.prototype.getIdentifier=function(){return this.identifier},e.prototype.hasIdentifier=function(){return null!==this.identifier},e.prototype.elements=function(){return _(this.node)},e.prototype.data=function(){return function(t){for(var e={},r=function(t,r,n){""===t&&(t="anonymous");var o=e[t];null!=o?o.value instanceof Array?e[t].value.push(n):e[t].value=[o.value,n]:e[t]={tag:r,value:n,name:t}},n=0;n<t.elements.length;n++){var o=t.elements[n],i=o.tagName.toLowerCase();if("input"===i||"textarea"===i){if("off"===(o.getAttribute("autocomplete")||"").toLowerCase())continue;if("password"===o.type)continue;if(o.name.includes("password")||o.id.includes("password"))continue;if(!o.value)continue;if("radio"===o.type&&!o.checked)continue;if("checkbox"===o.type&&!o.checked)continue;r(o.name,i,o.value)}else if("select"==i){var a=o.options[o.selectedIndex];r(o.name,i,a.innerHTML)}}return e}(this.node)},e.prototype.xpath=function(){return T(this.node)},e.prototype.createIdentifier=function(){if(!this.node.nodeName)return null;if(this.hasFilledAttribute("name"))return this.node.name;if(this.hasFilledAttribute("id"))return"#".concat(this.node.id);if(this.hasFilledAttribute("class"))return".".concat(this.node.className);var t=this.node.querySelector('[type="submit"]');if(t){if(this.elementHasAttribute(t,"id"))return"form>".concat(t.id);if(this.elementHasAttribute(t,"class"))return"form>".concat(t.className)}return null},e.prototype.toObject=function(){return{formId:this.formId,xpath:this.xpath(),identifier:this.getIdentifier(),data:this.data(),elements:this.elements()}},e}();const U=function(){function e(){this.forms=new Map;for(var e=0,r=Array.from(document.querySelectorAll("form"));e<r.length;e++){var n=r[e],o=t.genGuid();n.setAttribute("trackright-form-id",o),this.push(o,n)}}return e.prototype.push=function(t,e){this.forms.set(t,new C(e,t))},e.prototype.get=function(t){return this.forms.get(t)||null},e}();var D=function(t,e,r,n){return new(r||(r=Promise))((function(o,i){function a(t){try{u(n.next(t))}catch(t){i(t)}}function s(t){try{u(n.throw(t))}catch(t){i(t)}}function u(t){var e;t.done?o(t.value):(e=t.value,e instanceof r?e:new r((function(t){t(e)}))).then(a,s)}u((n=n.apply(t,e||[])).next())}))},L=function(t,e){var r,n,o,i,a={label:0,sent:function(){if(1&o[0])throw o[1];return o[1]},trys:[],ops:[]};return i={next:s(0),throw:s(1),return:s(2)},"function"==typeof Symbol&&(i[Symbol.iterator]=function(){return this}),i;function s(i){return function(s){return function(i){if(r)throw new TypeError("Generator is already executing.");for(;a;)try{if(r=1,n&&(o=2&i[0]?n.return:i[0]?n.throw||((o=n.return)&&o.call(n),0):n.next)&&!(o=o.call(n,i[1])).done)return o;switch(n=0,o&&(i=[2&i[0],o.value]),i[0]){case 0:case 1:o=i;break;case 4:return a.label++,{value:i[1],done:!1};case 5:a.label++,n=i[1],i=[0];continue;case 7:i=a.ops.pop(),a.trys.pop();continue;default:if(!(o=a.trys,(o=o.length>0&&o[o.length-1])||6!==i[0]&&2!==i[0])){a=0;continue}if(3===i[0]&&(!o||i[1]>o[0]&&i[1]<o[3])){a.label=i[1];break}if(6===i[0]&&a.label<o[1]){a.label=o[1],o=i;break}if(o&&a.label<o[2]){a.label=o[2],a.ops.push(i);break}o[2]&&a.ops.pop(),a.trys.pop();continue}i=e.call(t,a)}catch(t){i=[6,t],n=0}finally{r=o=0}if(5&i[0])throw i[1];return{value:i[0]?i[1]:void 0,done:!0}}([i,s])}}},I=r(378);const B=function(){function t(t){var r=this;this.options={},this.activeForms=[],this.options=I({bucket:"none",token:null,breakoutUsers:!1,breakoutVisitors:!1,trackGeo:!1,trackPageViews:!1,trackSubmissions:!1,trackLinkClicks:!1,waitOnTracker:!1},t||{}),this.oldHash=document.location.hash,this.tracker=new N({token:this.options.token,domain:this.options.domain}),this.outbox=new y(this.tracker),this.client=new e,this.events=new i,this.browser=new u,this.document=new h,this.screen=new p,this.locale=new d,this.forms=new U,this.javascriptRedirect=!0,this.outbox.sendPendingEvents(),this.options.trackGeo&&(this.geo=new v),this.options.trackSubmissions&&(this.events.onsubmit((function(t){if(t.form){var e=r.forms.get(t.form.getAttribute("trackright-form-id"));e&&r.track("formsubmit",{form:e.toObject()})}})),this.events.monitorElements("form",(function(t){r.events.onevent(t,"change",!1,(function(t){var e=t.target;e.form&&!r.activeForms.includes(e.form)&&r.activeForms.push(e.form)}))})),window.addEventListener("beforeunload",(function(){for(var t in r.activeForms)if(Object.prototype.hasOwnProperty.call(r.activeForms,t)){var e=r.activeForms[t];r.trackLater("formabandonment",{form:{xpath:T(e),identifier:P(e),elements:_(e)}})}}))),this.options.trackLinkClicks&&this.events.monitorElements("a",(function(t){r.events.onevent(t,"click",!0,(function(e){if(e.isTrusted){var n=e.target;r.javascriptRedirect=!1,setTimeout((function(){this.javascriptRedirect=!0}),500);var o=l.parseUrl(t.href),i={target:I({url:o},E.getNodeDescriptor(n))};l.isSamePage(o.href,document.location.href)?(r.oldHash=void 0,r.trackJump(document.location.hash)):o.hostname===document.location.hostname?r.trackLater("click",i):(r.options.waitOnTracker&&e.preventDefault(),r.track("click",i,(function(){this.javascriptRedirect=!1,this.options.waitOnTracker&&E.simulateMouseEvent(n,"click")})))}}))})),this.options.trackPageViews&&this.events.onready((function(){return r.pageview()}))}return t.prototype.getPath=function(t){new Date;return"",(this.client.userId?this.options.breakoutUsers?"/users/"+this.client.userId+"/":"/users/":this.options.breakoutVisitors?"/visitors/"+this.client.visitorId+"/":"/visitors/")+""+(t+"/")},t.prototype.trackForm=function(t){var e=this;if(!t)throw new Error("Form element not found");return new Promise((function(r){return D(e,void 0,void 0,(function(){var e,n;return L(this,(function(o){switch(o.label){case 0:return e=new C(t),[4,this.track("formsubmit",{form:e.toObject()})];case 1:return n=o.sent(),r(n),[2]}}))}))}))},t.prototype.createEvent=function(t,e){return e.timestamp=e.timestamp||(new Date).toISOString(),e.event=t,e.source=I({url:l.parseUrl(document.location.href)},e.source||{}),I({browser:this.browser,document:this.document,referer:this.document.referrer,landingPage:this.document.landingPage,screen:this.screen,locale:this.locale,domain:this.options.domain},this.client,e)},t.prototype.pageview=function(t,e,r){void 0===e&&(e=function(){}),void 0===r&&(r=function(){}),t=t||document.location.href;var n=document.getElementsByTagName("form"),o=[];for(var i in n)if(Object.prototype.hasOwnProperty.call(n,i)){var a=n[i];o.push(new C(a))}var s=o.filter((function(t){return t.hasIdentifier()})).map((function(t){return t.getIdentifier()}));this.track("pageview",{url:l.parseUrl(t),page:{forms:s}},e,r)},t.prototype.trackJump=function(t){if(this.oldHash!==t){var e=t.substring(1),r=document.getElementById(e),n=I({url:l.parseUrl(document.location.href)},r?E.getNodeDescriptor(r):{id:e});this.track("page_jump",{target:n,source:{url:I(l.parseUrl(document.location.href),{hash:this.oldHash})}}),this.oldHash=t}},t.prototype.trackLater=function(t,e){this.outbox.append({path:this.getPath("events"),value:this.createEvent(t,e),op:"append"})},t.prototype.track=function(t,e,r,n){return void 0===r&&(r=function(){}),void 0===n&&(n=function(){}),this.tracker.tracker({path:this.getPath("events"),value:this.createEvent(t,e),op:"append",success:r,failure:n})},t}();function F(t){return new B(t)}})(),n})()));